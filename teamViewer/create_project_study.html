{% extends 'baseViewer.html' %}
{% load static %}
{% block content %}
{% load widget_tweaks %}

<style>
    /* Add your custom CSS styles here */
    .form-wrapper {
        margin: 20px;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #f9f9f9;
    }

    .form-title {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 10px;
    }
</style>

<div class="form-wrapper">
    <h2 class="form-title">Create Project Study</h2>
    {{ client.name }}
    <div class="overflow-auto">
    <table class="table table-bordered mt-3 ">
      <thead>
          <tr>
              <th>Title</th>
              <th>Price</th>
              <th>Count</th>
              <th>Total Price</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          {% for study in project_study %}
          <tr>
              <td>{{ study.title }}</td>
              <td>{{ study.price }}</td>
              <td>{{ study.count }}</td>
              <td>{{ study.total_price }}</td>
              <td>{{ study.start_date }}</td>
              <td>{{ study.end_date }}</td>
              <td>
                  <a href="{% url 'update_project_study_teamViewer' study.pk %}" class="btn btn-primary">Update</a>
              </td>
          </tr>
          {% endfor %}
      </tbody>
  </table>
</div>
    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            <label class="form-label">Title:</label>
            {{ form.title.errors }}
            {{ form.title|add_class:"form-control" }}
            {% if form.title.errors %}
            <ul class="errorlist">
                {% for error in form.title.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        </div>
        <div class="mb-3">
            <label class="form-label">Description:</label>
            {{ form.description.errors }}
            {{ form.description|add_class:"form-control" }}
            {% if form.description.errors %}
            <ul class="errorlist">
                {% for error in form.description.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        <div class="mb-3">
            <label class="form-label">Price:</label>
            {{ form.price.errors }}
            {{ form.price|add_class:"form-control" }}
            {% if form.price.errors %}
            <ul class="errorlist">
                {% for error in form.price.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        <div class="mb-3">
            <label class="form-label">Measurement:</label>
            {{ form.measurement.errors }}
            {{ form.measurement|add_class:"form-control" }}
            {% if form.measurement.errors %}
            <ul class="errorlist">
                {% for error in form.measurement.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        <div class="mb-3">
            <label class="form-label">Count:</label>
            {{ form.count.errors }}
            {{ form.count|add_class:"form-control" }}
            {% if form.count.errors %}
            <ul class="errorlist">
                {% for error in form.count.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
            
        </div>
        <div class="mb-3">
            <label class="form-label">Start Date:</label>
            {{ form.start_date.errors }}
            {{ form.start_date|attr:"type:date"|add_class:"form-control" }}
            {% if form.start_date.errors %}
            <ul class="errorlist">
                {% for error in form.start_date.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        <div class="mb-3">
            <label class="form-label">End Date:</label>
            {{ form.end_date.errors }}
            {{ form.end_date|attr:"type:date"|add_class:"form-control" }}
            {% if form.end_date.errors %}
            <ul class="errorlist">
                {% for error in form.end_date.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        <div class="mb-3 d-none">
          <label class="form-label">Project:</label>
          {{ form.project.errors }}
          {{ form.project|add_class:"form-control" }}
          {% if form.project.errors %}
              <ul class="errorlist">
                  {% for error in form.project.errors %}
                      <li>{{ error }}</li>
                  {% endfor %}
              </ul>
          {% endif %}
      </div>
        <div class="mb-3 d-none">
          <label class="form-label">total price:</label>
          {{ form.total_price.errors }}
          {{ form.total_price|attr:"value:0"|add_class:"form-control" }}
          {% if form.total_price.errors %}
              <ul class="errorlist">
                  {% for error in form.total_price.errors %}
                      <li>{{ error }}</li>
                  {% endfor %}
              </ul>
          {% endif %}
      </div>
        
        <button class="btn btn-primary" type="submit">Create</button>
    </form>
</div>

{% endblock %}